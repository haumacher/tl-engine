<h2>Syntax</h2>

<pre>
	<code>$input.parseCSV()</code>
</pre>

<h2>Description</h2>

<p>Interprets the input as CSV formatted text.</p>

<h2>Parameters</h2>

<table class="tlDocTable">
	<thead>
		<tr>
			<th>name</th>
			<th>Type</th>
			<th>Type Description</th>
			<th>Mandatory</th>
			<th>Default</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Input</td>
			<td>Binary value</td>
			<td>Text in CSV format</td>
			<td>Yes</td>
			<td>-</td>
		</tr>
		<tr>
			<td>raw</td>
			<td>Boolean</td>
			<td>
			<p><span style="color:#2980b9">raw = true</span>: The function returns the raw data</p>

			<p>as a list of lists with headers.</p>

			<p><span style="color:#2980b9">otherwise:</span> The function returns a list of maps,</p>

			<p>where the column names (from the header)</p>

			<p>are used as the key.</p>
			</td>
			<td>No</td>
			<td>false/null</td>
		</tr>
		<tr>
			<td>parsers</td>
			<td>map</td>
			<td>Formatting information for the individual columns</td>
			<td>No</td>
			<td>null</td>
		</tr>
	</tbody>
</table>

<h2>Return value</h2>

<p><strong>Type:</strong> List</p>

<p>Creates a list/map for each line in the input and then combines these lists into one list.</p>

<h2>Examples</h2>

<h3>Example 1:</h3>

<pre>
<code>{
    toParse = binary(
        name: "test.csv",
        data: "date; name; number
        15.07.2024; test; 5
        16.07.2024; test2; 2; etc.
        17.07.2024",
        contentType: "text/csv",
        encoding: "utf-8"
    );
    result = $toParse.parseCSV(true);
    $result[0]
}</code>
</pre>

<p><span style="color:#3498db"><strong>Output:</strong></span> ["date", "name", "number"]</p>

<p>Calling <code class="hljs inlineCode">parseCSV(true)</code> returns the list <code class="hljs inlineCode">[["date", "name", "number"], ["15.07.2024", "test", "5"], ["16.07.2024", "test2", "2", "etc."],["17.07.2024"]].</code></p>

<h3> </h3>

<h3>Example 2:</h3>

<pre>
<code>{
    toParse = binary(
        name: "test.csv",
        data: "date; name; number
        15.07.2024; test; 5
        16.07.2024; test2; 2; etc.
        17.07.2024",
        contentType: "text/csv",
        encoding: "utf-8"
    );
    result = $toParse.parseCSV();
    $result
}</code>
</pre>

<p><span style="color:#3498db"><strong>Output:</strong></span> [<span style="color:#c0392b">{date=</span> 15.07.2024, <span style="color:#c0392b">number=</span> 5, <span style="color:#c0392b">name=</span> test}, <span style="color:#c0392b">{date=</span> 16.07.2024, <span style="color:#c0392b">number=</span> 2, <span style="color:#c0392b">name=</span> test2}, <span style="color:#c0392b">{date=</span> 17.07.2024, <span style="color:#c0392b">number=</span>, <span style="color:#c0392b">name=}</span>]</p>

<p>Calling<code class="hljs inlineCode">parseCSV()</code> returns a list of maps. The first line is selected as the header and its entries are used as the key for the maps. Subsequently, for each additional line, the map is generated from its entries according to the keys of the header of the corresponding map, whereby excess entries of the line are ignored and missing entries of the line are filled with empty strings.</p>

<p> </p>

<h3>Example 3:</h3>

<pre>
<code>{
    toParse = binary(
        name: "test.csv",
        data: "date; name; number
        15.07.2024; test; 5
        16.07.2024; test2; 2; etc.
        17.07.2024",
        contentType: "text/csv",
        encoding: "utf-8"
    );
    result = $toParse.parseCSV(parsers: {"date": x-&gt; dateFormat("dd.MM.yy").format(dateFormat("dd.MM.yyy").parse($x)) });
    $result
}</code>
</pre>

<p><span style="color:#3498db"><strong>Output:</strong></span> [<span style="color:#c0392b">{date=</span> 15.07.24, <span style="color:#c0392b">number= </span>5, <span style="color:#c0392b">name=</span> test}, <span style="color:#c0392b">{date=</span> 16.07.24, <span style="color:#c0392b">number=</span> 2, <span style="color:#c0392b">name=</span> test2}, <span style="color:#c0392b">{date=</span> 17.07.24, <span style="color:#c0392b">number=</span>, <span style="color:#c0392b">name=}</span>]</p>

<p>When<code class="hljs inlineCode">parseCSV()</code>is called, a parser for the column with the name "date" is specified, which prepares the entries from the corresponding cells.</p>
