<p>TopLogic realisiert funktionale Berechtigungen. D.h. es wird nicht direkt der Zugriff auf bestimmte Daten, sondern die Anzeige bzw. Ausführung von bestimmten Sichten und Kommandos (=Funktionen) auf bestimmten Datenobjekten berechtigt.</p>
<p><strong>Sicht und &nbsp;Kommando</strong></p>
<p>Sichten sind Seiten der Applikation, welche über eine Menünavigation (als "Reiter") erreichbar sind. Kommandos sind Funktionen, die innerhalb einer Sicht als Schaltfläche oder Menüeintrag angeboten werden können. Die einfache Anzeige einer Sicht ist ebenfalls als "Lese-" Kommando realisiert. Technisch werden Kommandos über CommandHandler realisiert.</p>
<p><strong>Kommandogruppe</strong></p>
<p>Kommandogruppen können mehrere Kommandos für eine gemeinsame Berechtigung zusammenfassen. Jede Sicht publiziert die Kommandogruppen ihrer deklarierten Kommandos. &nbsp;Diese Kommandogruppen werden dann für einzelne Rollen berechtigt, d.h. die &nbsp;Berechtigung erfolgt auf Ebene der Kommandogruppen anstatt für einzelne Kommandos. &nbsp; &nbsp;So wird die konsistente Berechtigung zusammengehöriger Kommandos sichergestellt.</p>
<p>Bei der Deklaration eines neuen Kommandos wird es immer einer Kommandogruppe zugeordnet, über die dann die Berechtigung zur Ausführung des Kommandos gesteuert wird.&nbsp;</p>
<p>Standardkommandogruppen sind "READ", "WRITE", "DELETE", "EXPORT". Weitere Kommandogruppen können konfigurativ ergänzt werden.</p>
<p><strong>Benutzerkonto</strong></p>
<p>Ein Benutzerkonto repräsentiert &nbsp;eine Person, die sich am System anmelden kann. &nbsp;Für die Nutzung der Applikation ist einer Nutzeranmeldung erforderlich und somit kann jede aktive Sitzung einem konkreten Benutzerkonto zugeordnet werden. &nbsp;Zu jedem Benutzerkonto existiert ein korrespondierender Adressbucheintrag, der "Kontakt". Bei Löschung eines Benutzerkontos bleibt dieser Kontakt erhalten. Daher erfolgt die Zuweisung von Benutzerkonten zu Fachobjekten regelmäßig nicht direkt sondern über den zugehörigen Kontakt. So bleibt die Zuordnungsinformation (Name, Vorname, Email) erhalten, auch wenn das Benutzerkonto selbst gelöscht wird. Außerdem können so auch Kontake (=Adressbucheinträge) informativ für fachliche Zuordnungen verwendet werden, die keinen Systemzugang, also kein Benutzerkonto besitzen.</p>
<p>Benutzerkonten werdem in Reiter Administration &gt; Zugänge administriert.</p>
<p><strong>Gruppe</strong></p>
<p>Eine Gruppe fasst eine Menge von Benutzerkonten &nbsp;(als Mitglieder) zusammen.</p>
<p>Die Menge der benötigten Gruppen wird &nbsp;als Teil des Berechtigungskonzepts in der Anwendungskonfiguration definiert.</p>
<p><strong>Rolle</strong></p>
<p>Für eine Rolle können funktionale Berechtigungen definiert werden: Dabei wird durch Auswahl der entsprechenden Kommandogruppen festgelegt, welche Sichten (Reiter) dem Inhaber einer Rolle zur Verfügung stehen und welche Kommandos (Buttons, Funktionen) der Inhaber einer Rolle ausführen darf.</p>
<p>Die Menge der benötigten Gruppen kann als Teil des Berechtigungskonzepts in der Anwendungskonfiguration definiert werden.</p>
<p><strong>Berechtigungsprofil</strong></p>
<p>Die Menge der einer Rolle zugeordneten Kommandogruppen bildet &nbsp;das "<em>Berechtigungsprofil</em>" dieser Rolle.&nbsp;</p>
<p>Die Berechtigungsprofile einzelner Rollen sind additiv, erlaubend. D.h. eine Rolle gewährt stets die aktivierten Berechtigungen ihres Berechtigungsprofils, verbietet aber die übrigen nicht.&nbsp;</p>
<p>Die Gegenüberstellung aller Rollen mit der Menge der möglichen Berechtigungen bildet die &nbsp;"<em>Berechtigungsmatrix </em>". der Applikation.&nbsp;</p>
<p>Berechtigungsprofile können im Reiter &nbsp;"<em>Administration &gt; Berechtigungen &gt; Rollenprofile</em>" bearbeitet werden.</p>
<p><strong>Rollenvergabe</strong></p>
<p>Rollen werden an Benutzergruppen und einzelne Benutzerkonten vergeben, wobei derselbe Benutzer bzw. dieselbe Gruppe mehrere Rollen in sich vereinen kann und dadurch die Vereinigungsmenge der Berechtigungsprofile der einzelnen Rollen erlangt. Die Rollenvergabe auf Gruppenebene ist für die Gruppenmitglieder gleichbedeutend mit der &nbsp;Rollenvergabe für einzelne &nbsp;Benutzerkonten: Die Erlangung / der Verlust einer Gruppenmitgliedschaft ist für ein Benutzerkonto gleichbedeutend mit der Erlangung / dem Verlust der für die Gruppe vergebenen Rollen.</p>
<p>Technisches Detail: Intern werden Rollen <u>immer </u>für Gruppen vergeben. Tatsächlich wird für jedes Benutzerkonto intern eine eigene Gruppe mit dem Benutzerkonto als einzigem Mitglied angelegt. Die Rollenvergabe für einzelne Benutzerkonten erfolgt techisch nicht auf dem Benutzerkonto selbst, sondern auf der zugehörigen Gruppe. Dies ermöglicht die Realisierung einer systemweiten Stellvertreterregelung: Wählt ein Benutzer A ein anderes Benutzerkonto B als "Stellvertreter" aus, so wird dieses Benutzerkonto B ebenfalls Mitglied der Benutzergruppe A und erhält dadurch automatisch alle Berechtigungen von Benutzer A.</p>
<p>Die Vergabe von Rollen erfolgt stets im Kontext eines Fachbjekts als Berechtigungskontext zur Definition des Geltungsbereichs. &nbsp;D.h. Benutzerkonten &nbsp;oder Gruppen erhalten Rollen immer &nbsp;in Bezug zu &nbsp;einer Objektinstanz: Dem Berechtigungskontext.</p>
<p><strong>Regelbasierte &nbsp;Rollenvergabe</strong></p>
<p>Die Vergabe einzelner Rollen für einzelne Benutzerkonten oder Benutzerguppen auf einzelnen Fachobjekten erzeugt hohen administrativen Aufwand und ist aber einer gewissen Größenordnung nicht mehr praktikabel. Daher wird die konkrete Vergabe von Rollen auf einzelnen Fachobjekten durch die Auswertung definierter &nbsp;Regeln automatisiert.<br>
  Im Rahmen eines Brechtigungskonzepts für die Applikation wird hierbei einmalig definiert, welche Rollen aufgrund welcher fachlichen Zuordnungen für einzelne Benutzerkonten oder Benutzergruppen vergeben werden. Solche Regeldefinitionen ermöglichen auch die Vererbung von Rollen durch Navigation über das fachliche Datenmodell der Applikation.</p>
<p>So kann die technische Vergabe von Rollen auf ganze Objektnetze durch einfache fachliche Benutzerzuweisungen oder Gruppenzuordnungen realisiert werden.</p>
<p>Die Auswertung dieser Regeln erfolgt in Echtzeit, d.h. die konkreten Berechtigungen einzelner Benutzer entsprechen stets dem aktuellen Datenstand der Applikation.</p>
<p><strong>Berechtigungsprüfung</strong></p>
<p>Alle Sichten und Kommandos der Applikation werden dem Benutzer stets in Bezug zu einem Berechtigungskontext angeboten. Bei fachlichen Sichten und Funktionen wird dieser Berechtigungskontext regelmäßig durch das angezeigte Fachobjekt realisiert, wobei dem Anwender die aktive Auswahl des anzuzeigenden Objekts (und damit die Auswahl des Berechtigungskontextes) ermöglicht wird. Bei administrativen Sichten oder solchen ohne fachlichen Kontext wird der Berechtigungskontext durch technische Objektinstanzen realisiert, die in der Anwendungskonfiguration deklariert werden. In diesem Fall steht dem Anwender keine aktive Auswahl des Berechtigungskontextes zur Verfügung.</p>
<p>Zur Berechtigungsprüfung werden alle Rollen des zugreifenden Benutzers auf dem aktiven Berechtigungskontext ermittelt und es wird überprüft, ob die Vereinigungsmenge derer Rollenprofile die &nbsp; zugehörige Kommandogruppe des jeweiligen Kommandos enthält und die Ausführung somit gestattet.&nbsp;</p>
<p><strong>Zusammenfassung</strong></p>
<p>Die Menge der vorhandenen Gruppen, Rollen und Regeln wird einmalig als Berechtigungskonzept einer Applikation definiert und in der Anwendungskonfiguration hinterlegt. Die Regeln definieren dabei die Vergabge &nbsp;von Rollen für &nbsp;Benutzerkonten und Gruppen basierend auf deren Zuweisung auf Objektinstanzen des fachlichen Datenmodells. Jede Rolle definiert ein erlaubendes &nbsp;Berechtigungsprofil für die Anzeige bzw. Ausführung bestimmter Sichten und Kommandos. Jedes Kommando der Applikation ermittelt eine konkrete Objektinstanz &nbsp; (aus der Anwendungskonfiguration oder der aktuellen Objekt-Auswahl des Anwenders) für die Nutzung als Berechtigungskontext und stellt fest, ob der Anwender gemäß seiner Rollenzuweisung auf diesem Berechtigungskontext zur Ausführung des &nbsp;betreffenden Kommandos &nbsp;berechtigt ist oder nicht.</p>
<p>Die &nbsp;regelbasierte Automatisierung der technischen Rollenvergabe ermöglicht dabei &nbsp;eine feingranulare Berechtigungsverwaltung bei gleichzeitig minimalem administrativem Aufwand und gesicherter Konsistenz.</p>
<p><strong>Anwendungsbeispiel</strong></p>
<p>Eine Applikation unterstützt die Abbildung einer Organisationsstruktur aus Haupt- u. Unterabteilungen. <em>Administratoren</em> sollen die gesamte Struktur einsehen können, während ein <em>Hauptabteilungsleiter </em>Zugriff auf seine Abteilung mit allen Unterabteilungen benötigt.</p>
<p><em>Administratoren</em></p>
<p>In der Anwendungskonfiguration wird eine Gruppe "Administratoren" mit einer korrespondierenden Rolle "admin" deklariert. Dabei wird festgelegt, dass die Gruppe diese Rolle auf dem Wurzelknoten der Organisationsstruktur erhält. Über eine Regel wird definiert, dass die Rolle "admin" auf alle Haupt- u. Unterabteilungen dieser &nbsp;Struktur veerbt werden soll. Die konkreten Berechtigungen von Administratoren in dieser Struktur werden durch das Berechtigungsprofil der Rolle "admin" definiert. &nbsp;Ob ein Benutzerkonto als Administrator gilt oder nicht, wird einzig durch die &nbsp;Gruppenzuordnung zur Gruppe "Administratoren" bestimmt: Eine manuelle Pflege von Berechtigungen für einzelne (ggfs. neu angelegte) Abteilungen ist ebensowenig nötig wie für einzelne Benutzer nach Erlangung oder Verlust dieser Gruppenmitgliedschaft.</p>
<p><em>Hauptabteilungsleiter</em></p>
<p>Im fachlichen Datenmodell der Applikation wird in der Organisationsstruktur &nbsp;eine Referenz "Abteilungsleiter" für die fachliche Zuweisung eines Benutzerkontos realisiert. In einer &nbsp;Regel zur Rollenvergabe wird &nbsp;definiert, das für das zugewiesene Benutzerkonto die Rolle "Abteilungsleiter" auf der Abteilung sowie deren &nbsp;Unterabteilungen vergeben wird. Die konkreten Berechtigungen eines Abteilungsleiters auf seiner Abteilung werden durch das Berechtigungsprofil der Rolle "Abteilungsleiter" definiert. Ob ein Benutzerkonto als "Abteilungsleiter" gilt oder nicht, wird einzig durch die fachliche Zuweisung in die Organisationsstruktur bestimmt: Eine manuelle Pflege von Berechtigungen für einzelne (ggfs. neu angelegte) Fachobjekte ist ebensowenig nötig wie für einzelne Benutzer nach Erlangung oder Verlust dieser Zuordnung.</p>
<p>im Ergebnis ist sichergestellt, das Mitglieder der Gruppe Administratoren die gesamte Struktur einsehen und ggfs. bearbeiten können, während Abteilungsleiter jeweils Zugriff auf "ihre Abteilungen" erlangen, während ihnen andere (fremde) Abteilungen verborgen bleiben.</p>
<p>&nbsp;</p>