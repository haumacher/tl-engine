<?xml version="1.0" encoding="utf-8" ?>

<action class="com.top_logic.layout.scripting.runtime.action.ActionChainOp"
	xmlns:config="http://www.top-logic.com/ns/config/6.0"
>
	<actions>
		<action class="com.top_logic.layout.scripting.runtime.action.ActionChainOp"
			comment="Create test user"
		>
			<actions>
				<action class="com.top_logic.layout.scripting.template.action.op.ScriptTemplateActionOp"
					template="script:Nutzer/Action-Nutzer-Anlegen.xml"
					template-name-comment="Nutzer Anlegen"
				>
					<parameters>
						<parameter name="Loginname"
							value="TestSearchSecurity"
						/>
						<parameter name="Vorname"
							value="TestSearchSecurity"
						/>
						<parameter name="Nachname"
							value="TestSearchSecurity"
						/>
					</parameters>
				</action>
			</actions>
		</action>
		<action class="com.top_logic.layout.scripting.runtime.action.ActionChainOp"
			comment="Set security root role profiles"
		>
			<actions>
				<action class="com.top_logic.layout.scripting.runtime.action.FuzzyGotoActionOp"
					user-id="root"
				>
					<component config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
						tab-path="Administration > Berechtigungen"
					/>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.FuzzyGotoActionOp"
					user-id="root"
				>
					<component config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
						tab-path="Administration > Berechtigungen > Rollenprofile"
					/>
				</action>
				<action class="com.top_logic.layout.scripting.action.FormInput$Op"
					user-id="root"
				>
					<field config:interface="com.top_logic.layout.form.FuzzyFormMemberNaming$Name"
						label="Berechtigungsstruktur"
					>
						<component config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
							name="com.top_logic.element/admin/security/securityStructure.xml#adminRolesView_navigationTree"
							tab-path="Administration > Berechtigungen"
						/>
					</field>
					<value config:interface="com.top_logic.layout.scripting.recorder.ref.value.ListNaming$Name">
						<values>
							<value config:interface="com.top_logic.layout.scripting.recorder.ref.ui.form.OptionByLabelNaming$Name"
								label="Zentrale Berechtigungen"
							/>
						</values>
					</value>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.SetTableColumnsOp"
					columns="Rechte,OwnerRole"
					label="true"
					user-id="root"
				>
					<model-name config:interface="com.top_logic.layout.scripting.recorder.ref.ui.form.DefaultFormMemberNaming$Name">
						<form config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
							name="com.top_logic/admin/security/profiles/adminSecurity.layout.xml#EditSecurityComponent"
							tab-path="Administration > Berechtigungen > Rollenprofile"
						/>
						<path>
							<named-member name="tree"/>
						</path>
					</model-name>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.layout.form.component.SwitchEditCommandHandler"
					command-label="Bearbeiten"
					command-name="switchToAJAXEdit"
					component-implementation-comment="com.top_logic.tool.boundsec.gui.profile.EditSecurityProfileComponent"
					component-name="com.top_logic/admin/security/profiles/adminSecurity.layout.xml#EditSecurityComponent"
					user-id="root"
				>
					<arguments/>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.tool.boundsec.CommandHandlerReference"
					command-label="Rollenprofile aufklappen"
					command-name="expandRoleProfileTree"
					component-implementation-comment="com.top_logic.tool.boundsec.gui.profile.EditSecurityProfileComponent"
					component-name="com.top_logic/admin/security/profiles/adminSecurity.layout.xml#EditSecurityComponent"
					user-id="root"
				>
					<arguments/>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.tool.boundsec.gui.profile.EditRolesProfileComponent$SetAllCommandHandler"
					command-label="Alle an"
					command-name="setAllAccess"
					component-implementation-comment="com.top_logic.tool.boundsec.gui.profile.EditSecurityProfileComponent"
					component-name="com.top_logic/admin/security/profiles/adminSecurity.layout.xml#EditSecurityComponent"
					user-id="root"
				>
					<arguments/>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.layout.form.component.DefaultSaveCommandHandler"
					command-label="Speichern"
					command-name="defaultSave"
					component-implementation-comment="com.top_logic.tool.boundsec.gui.profile.EditSecurityProfileComponent"
					component-name="com.top_logic/admin/security/profiles/adminSecurity.layout.xml#EditSecurityComponent"
					user-id="root"
				>
					<arguments/>
				</action>
			</actions>
		</action>
		<action class="com.top_logic.layout.scripting.runtime.action.ActionChainOp"
			comment="Set user security root rights"
		>
			<actions>
				<action class="com.top_logic.layout.scripting.runtime.action.FuzzyGotoActionOp"
					user-id="root"
				>
					<component config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
						tab-path="Administration > Berechtigungen > Benutzerrechte"
					/>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.SelectActionOp"
					change-kind="ABSOLUTE"
					user-id="root"
				>
					<selection>
						<selectee config:interface="com.top_logic.layout.scripting.recorder.ref.value.object.IndexedObjectNaming$Name"
							table="Person"
						>
							<attributes>
								<attribute name="name">
									<value config:interface="com.top_logic.layout.scripting.recorder.ref.value.StringNaming$Name"
										value="TestSearchSecurity"
									/>
								</attribute>
							</attributes>
						</selectee>
						<selection-state boolean="true"/>
					</selection>
					<selection-model-name config:interface="com.top_logic.layout.table.component.DefaultTableDataName">
						<default-table-data-owner config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
							name="com.top_logic.element/admin/security/roleAssignment/adminPersonsRolesView.layout.xml#RolesPersonTable"
							tab-path="Administration > Berechtigungen > Benutzerrechte"
						/>
					</selection-model-name>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.layout.form.component.SwitchEditCommandHandler"
					command-label="Bearbeiten"
					command-name="switchToAJAXEdit"
					component-implementation-comment="com.top_logic.element.layout.person.EditPersonOrGroupRolesMultiComponent"
					component-name="com.top_logic.element/admin/security/roleAssignment/adminPersonsRolesView.layout.xml#EditPersonRoles"
					user-id="root"
				>
					<arguments/>
				</action>
				<action class="com.top_logic.layout.scripting.action.FormInput$Op"
					user-id="root"
				>
					<field config:interface="com.top_logic.layout.form.FuzzyFormMemberNaming$Name"
						label="SecurityRoot"
					>
						<component config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
							tab-path="Administration > Berechtigungen > Benutzerrechte > Nutzerrechte auf Strukturen pflegen"
						/>
					</field>
					<value config:interface="com.top_logic.layout.scripting.recorder.ref.value.ListNaming$Name">
						<values>
							<value config:interface="com.top_logic.layout.scripting.recorder.ref.ui.form.OptionByLabelNaming$Name"
								label="OwnerRole"
							/>
						</values>
					</value>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.layout.form.component.DefaultSaveCommandHandler"
					command-label="Speichern"
					command-name="defaultSave"
					component-implementation-comment="com.top_logic.element.layout.person.EditPersonOrGroupRolesMultiComponent"
					component-name="com.top_logic.element/admin/security/roleAssignment/adminPersonsRolesView.layout.xml#EditPersonRoles"
					user-id="root"
				>
					<arguments/>
				</action>
			</actions>
		</action>
		<action class="com.top_logic.layout.scripting.runtime.action.ActionChainOp"
			comment="Create test role"
		>
			<actions>
				<action class="com.top_logic.layout.scripting.runtime.action.FuzzyGotoActionOp"
					user-id="root"
				>
					<component config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
						tab-path="Administration > Berechtigungen > Rollen"
					/>
				</action>
				<action class="com.top_logic.layout.scripting.action.FormInput$Op"
					user-id="root"
				>
					<field config:interface="com.top_logic.layout.form.FuzzyFormMemberNaming$Name"
						label="Berechtigungsstruktur"
					>
						<component config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
							name="com.top_logic.element/admin/security/securityStructure.xml#adminRolesView_navigationTree"
							tab-path="Administration > Berechtigungen"
						/>
					</field>
					<value config:interface="com.top_logic.layout.scripting.recorder.ref.value.ListNaming$Name">
						<values>
							<value config:interface="com.top_logic.layout.scripting.recorder.ref.ui.form.OptionByLabelNaming$Name"
								label="DemoTypes"
							/>
						</values>
					</value>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.tool.boundsec.OpenModalDialogCommandHandler"
					command-label="Neu..."
					command-name="displayDialog_newRoleDialog"
					component-implementation-comment="com.top_logic.element.layout.role.ScopedEditRoleComponent"
					component-name="com.top_logic.element/admin/security/roleEditor/adminRolesView.layout.xml#EditRole"
					user-id="root"
				>
					<arguments/>
				</action>
				<action class="com.top_logic.layout.scripting.action.FormInput$Op"
					user-id="root"
				>
					<field config:interface="com.top_logic.layout.form.FuzzyFormMemberNaming$Name"
						label="Name:"
					>
						<component config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
							name="com.top_logic.element/admin/security/roleEditor/adminRolesView.layout.xml#NewRole"
							tab-path=""
						/>
					</field>
					<value config:interface="com.top_logic.layout.scripting.recorder.ref.value.StringNaming$Name"
						value="TestSearchRole"
					/>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.tool.boundsec.gui.EditRoleComponent$NewRoleCommand"
					command-label="Speichern"
					command-name="newRole"
					component-implementation-comment="com.top_logic.tool.boundsec.gui.EditRoleComponent$NewRoleComponent"
					component-name="com.top_logic.element/admin/security/roleEditor/adminRolesView.layout.xml#NewRole"
					user-id="root"
				>
					<arguments/>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.layout.form.component.DefaultSaveCommandHandler"
					command-label="Speichern"
					command-name="defaultSave"
					component-implementation-comment="com.top_logic.element.layout.role.ScopedEditRoleComponent"
					component-name="com.top_logic.element/admin/security/roleEditor/adminRolesView.layout.xml#EditRole"
					user-id="root"
				>
					<arguments/>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.FuzzyGotoActionOp"
					user-id="root"
				>
					<component config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
						tab-path="Administration > Berechtigungen > Rollenprofile"
					/>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.SetTableColumnsOp"
					columns="Rechte,TestSearchRole"
					label="true"
					user-id="root"
				>
					<model-name config:interface="com.top_logic.layout.scripting.recorder.ref.ui.form.DefaultFormMemberNaming$Name">
						<form config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
							name="com.top_logic/admin/security/profiles/adminSecurity.layout.xml#EditSecurityComponent"
							tab-path="Administration > Berechtigungen > Rollenprofile"
						/>
						<path>
							<named-member name="tree"/>
						</path>
					</model-name>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.layout.form.component.SwitchEditCommandHandler"
					command-label="Bearbeiten"
					command-name="switchToAJAXEdit"
					component-implementation-comment="com.top_logic.tool.boundsec.gui.profile.EditSecurityProfileComponent"
					component-name="com.top_logic/admin/security/profiles/adminSecurity.layout.xml#EditSecurityComponent"
					user-id="root"
				>
					<arguments/>
				</action>
				<action class="com.top_logic.layout.scripting.action.FormInput$Op"
					user-id="root"
				>
					<field config:interface="com.top_logic.layout.scripting.recorder.ref.ui.form.DefaultFormMemberNaming$Name">
						<form config:interface="com.top_logic.layout.scripting.recorder.ref.ui.FuzzyComponentNaming$Name"
							name="com.top_logic/admin/security/profiles/adminSecurity.layout.xml#EditSecurityComponent"
							tab-path="Administration > Berechtigungen > Rollenprofile"
						/>
						<path>
							<object>
								<business-object config:interface="com.top_logic.layout.scripting.recorder.ref.value.StringNaming$Name"
									value="DemoTypes anzeigen (Lesen)"
								/>
							</object>
							<named-member name="TestSearchRole"/>
						</path>
					</field>
					<value config:interface="com.top_logic.layout.scripting.recorder.ref.value.BooleanNaming$Name"
						value="true"
					/>
				</action>
				<action class="com.top_logic.layout.scripting.runtime.action.CommandActionOp"
					command-implementation-comment="com.top_logic.layout.form.component.DefaultSaveCommandHandler"
					command-label="Speichern"
					command-name="defaultSave"
					component-implementation-comment="com.top_logic.tool.boundsec.gui.profile.EditSecurityProfileComponent"
					component-name="com.top_logic/admin/security/profiles/adminSecurity.layout.xml#EditSecurityComponent"
					user-id="root"
				>
					<arguments/>
				</action>
			</actions>
		</action>
	</actions>
</action>